<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tickdone</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.rtl.min.css"
        integrity="sha384-Xbg45MqvDIk1e563NLpGEulpX6AvL404DP+/iCgW9eFa2BqztiwTexswJo2jLMue" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.6.0/remixicon.css"
        integrity="sha512-kJlvECunwXftkPwyvHbclArO8wszgBGisiLeuDFwNM8ws+wKIw0sv1os3ClWZOcrEB2eRXULYUsm8OVRGJKwGA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="/style.css">
</head>

<body>
    <div class="main-image d-flex align-items-center justify-content-center">
        <h1 class="display-1 text-white fw-bold">TICKDONE</h1>
    </div>

    <div class="task-container task-container d-flex flex-column align-items-center">

        <div class="task-heading title-task task-container-inner d-flex justify-content-between align-items-center border rounded p-3 mb-2 w-50">
            <h1 class="fs-1">Tasks</h1>
            <a href="/tasks/add" class="btn btn-primary btn-bg fs-6">Add Task</a>
        </div>

        <div class="task-container-lv2 d-flex  align-items-center border rounded p-3 mb-2 flex-column w-50 h-75 overflow-auto">
            <!-- Tasks -->
            <% tasks.forEach(task => { %>

                <div class="task-container-lv3 d-flex justify-content-between align-items-center border rounded p-3 mb-2 w-100 <%= task.completed ? 'completed' : '' %>">

                    <div class="flex-grow-1">
                        <h5 class="task-name mb-1"><%= task.taskName %></h5>
                        <small class="text-muted">Added: <%= task.addedTime.toString().split(" ").slice(0, 4).join(" ") %></small>
                    </div>

                    <div class="ms-3 d-flex gap-2">
                        <form method="POST" action="/tasks/<%= task._id %>/complete?_method=PATCH">
                            <button class="complete-btn btn btn-success btn-sm" type="submit">Complete</button>
                        </form>
                        <a class="btn btn-warning btn-sm" href="/tasks/<%= task._id %>/edit"><i class="ri-edit-line"></i></a>
                        <form method="POST" action="/tasks/<%= task._id %>?_method=DELETE">
                            <button class="btn btn-danger btn-sm"><i class="ri-delete-bin-line"></i></button>
                        </form>
                    </div>
                </div>
            <% }) %>

        </div>

    </div>
</body>

</html>